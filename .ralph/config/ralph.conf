# Purpose: default Ralph Deluxe runtime configuration values and mode toggles.
# Consumed by: .ralph/ralph.sh configuration loader during orchestrator startup and iteration execution.

# .ralph/config/ralph.conf

# === Core Settings ===
RALPH_MAX_ITERATIONS=50
RALPH_PLAN_FILE="plan.json"
RALPH_VALIDATION_STRATEGY="strict"  # strict | lenient | tests_only
RALPH_MODE="handoff-only"           # handoff-only | handoff-plus-index | agent-orchestrated

# === Compaction Settings ===
RALPH_COMPACTION_INTERVAL=5          # Coding iterations between compactions
RALPH_COMPACTION_THRESHOLD_BYTES=32000  # ~8000 tokens
RALPH_COMPACTION_MAX_TURNS=10

# === Coding Iteration Settings ===
RALPH_DEFAULT_MAX_TURNS=20
RALPH_MIN_DELAY_SECONDS=30           # Rate limit protection
RALPH_CONTEXT_BUDGET_TOKENS=8000
RALPH_CONTEXT_BUDGET_TOKENS_HPI=16000  # Budget for handoff-plus-index mode

# === CLI Settings ===
RALPH_MODEL=""                        # Empty = default model
RALPH_FALLBACK_MODEL="sonnet"
RALPH_SKIP_PERMISSIONS=true

# === Git Settings ===
RALPH_AUTO_COMMIT=true
RALPH_COMMIT_PREFIX="ralph"

# === Agent-Orchestrated Mode Settings ===
RALPH_CONTEXT_AGENT_MODEL=""         # Empty = use default model; set to override (e.g., "sonnet")
RALPH_AGENT_PASSES_ENABLED=true      # Enable/disable optional agent passes (review, docs, etc.)

# === Logging ===
RALPH_LOG_LEVEL="info"                # debug | info | warn | error
RALPH_LOG_FILE=".ralph/logs/ralph.log"

# === Validation Commands (project-specific) ===
RALPH_VALIDATION_COMMANDS=(
    "bats tests/"
    "shellcheck .ralph/ralph.sh .ralph/lib/*.sh"
)
